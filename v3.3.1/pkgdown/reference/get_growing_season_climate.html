<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Truncate weather data to one growing season — get_growing_season_climate • BioCro</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Truncate weather data to one growing season — get_growing_season_climate"><meta name="description" content="Attempt to restrict a year of weather data to a growing season; not intended
  to be a general-use function (see below for a detailed discussion of its
  shortcomings)."><meta property="og:description" content="Attempt to restrict a year of weather data to a growing season; not intended
  to be a general-use function (see below for a detailed discussion of its
  shortcomings)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BioCro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../about_pkgdown_documentation.html">About</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>GENERAL BIOCRO USAGE</h6></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/BioCro.html">Getting Started with BioCro (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/workshop_I.pdf">Workshop I (PDF)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/a_practical_guide_to_biocro.pdf">A Practical Guide to BioCro (PDF)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/a_practical_guide_to_biocro.R">    [R code]</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/quantitative_model_comparison.pdf">Quantitative Comparison Between Two Photosynthesis Models (PDF)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/quantitative_model_comparison.R">    [R code]</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/BioCro-II_Paper--Section-1.1-example.html">BioCro II Paper: Section 1.1 Example (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/dynamical_systems.pdf">BioCro as a Dynamical System</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/an_introduction_to_biocro.pdf">An Introduction to BioCro for Those Who Want to Add Models (PDF)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>CROP GROWTH MODELING TOPICS</h6></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/web_only/thick_layer_absorption.html">Light Absorption by a Thick Layer (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/ball_berry_model.html">Using the Ball-Berry Model (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/canopy_photosynthesis.html">Multi-layer Canopy Photosynthesis Models (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/energy_balance.html">Energy Balance, Leaf Temperature, and Transpiration (HTML)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../../bookdown/index.html">Developer's Manual</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-c-library" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">C++ Library</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-c-library"><li><a class="dropdown-item" href="../../doxygen/doxygen_docs_complete/index.html">Complete Doxygen Documentation</a></li>
    <li><a class="dropdown-item" href="../../doxygen/doxygen_docs_framework/index.html">Framework Documentation</a></li>
    <li><a class="dropdown-item" href="../../doxygen/doxygen_docs_modules/index.html">BioCro Module Documentation</a></li>
    <li><a class="dropdown-item" href="../../doxygen/doxygen_docs_modules_public_members_only/index.html">BioCro Module Documentation (public members only)</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/biocro/biocro/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Truncate weather data to one growing season</h1>

      <div class="d-none name"><code>get_growing_season_climate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Attempt to restrict a year of weather data to a growing season; not intended
  to be a general-use function (see below for a detailed discussion of its
  shortcomings).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_growing_season_climate</span><span class="op">(</span><span class="va">climate</span>, threshold_temperature <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-climate">climate<a class="anchor" aria-label="anchor" href="#arg-climate"></a></dt>
<dd><p>A data frame representing one year of weather data, typically intended to be
    passed to <code><a href="run_biocro.html">run_biocro</a></code> as its <code>drivers</code> argument. This data
    frame must have columns for the day of year (<code>doy</code>) and the air
    temperature in degrees C (<code>temp</code>).</p></dd>


  <dt id="arg-threshold-temperature">threshold_temperature<a class="anchor" aria-label="anchor" href="#arg-threshold-temperature"></a></dt>
<dd><p>The value of air temperature in degrees C to use when locating the beginning
    and end of the growing season.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>DISCLAIMER</strong>: This function is included here primarily to reproduce
  the output of older BioCro calculations, where it used to be hard-coded into
  every simulation. It has several severe limitations which are discussed below,
  and is not intended to be a general-use function for subsetting weather data.</p>
<p>To determine the growing season, this function locates its beginning and end
  based on the air temperature data. The start of the growing season is set by
  the last day in the first half of the year where the air temperature is below
  (or equal to) the threshold temperature, or day 90, whichever is later. The
  end of the growing season is set by the first day of the second half of the
  year where the air temperature is below (or equal to) the threshold
  temperature, or day 330, whichever is earlier.</p>
<p>This is not a sophisticated function and no attempt is made to ensure that the
  output is reasonable. For example, if the air temperature never exceeds the
  threshold value, a growing season beginning on day 183 (the last day of the
  first half of the year) and ending on day 184 (the first day of the second
  half of the year) will be returned. If the air temperature always exceeds the
  threshold value, the growing season will go from day 90 to day 330.</p>
<p>This function also assumes that the air temperature generally increases early
  in the year and generally decreases later in the year, and is only applicable
  for locations where this is the case. It is therefore unlikely to work
  properly in the Southern Hemisphere or the tropics.</p>
<p>In general, an appropriate threshold temperature would depend on the species
  that is being modeled. For a perennial grass, the growth season might be said
  to begin after the last freeze, requiring a threshold temperature of 0 degrees
  C. Of course, this is an oversimplification of a complicated biological
  process, and a plant has no way of knowing when it has experienced the last
  freezing day of the year.</p>
<p>On the other hand, annual crops like maize or soybean are not typically sown
  until conditions are warmer and might require a higher threshold. Again, this
  is an oversimplification of a complicated process. Farmers typically take
  trends in temperature, historical data, soil conditions, and weather
  predictions into account when deciding to sow, and they may also be
  constrained by external factors like the availability of machinery, seeds, or
  labor.</p>
<p>It should also be noted that as the threshold temperature increases, the
  likelihood of that air temperature occurring at night, even in the middle of
  summer, also increases. Consequently, if the threshold is set too high, an
  unrealistically short growing season may be predicted. For example, calling
  <code>get_growing_season_climate(weather$'2005', 15)</code> returns a two-day
  growing season (days 183–184) because the temperatures in the late night of
  day 183 and the early morning of day 184 both dip below 15 degrees C.</p>
<p>Thus, the logic encoded here is an oversimplification in several ways. It is
  likely not appropriate in many situations, and more tailored approaches would
  be required.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A copy of the <code>climate</code> data frame truncated to the growing season.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="co"># Truncate the 2002 Champaign, Illinois weather data to an estimated growing</span></span></span>
<span class="r-in"><span>  <span class="co"># season</span></span></span>
<span class="r-in"><span>  <span class="va">truncated_weather</span> <span class="op">&lt;-</span> <span class="fu">get_growing_season_climate</span><span class="op">(</span><span class="va">weather</span><span class="op">[[</span><span class="st">'2002'</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># We can see which days were included</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    doy_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">truncated_weather</span><span class="op">$</span><span class="va">doy</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    doy_end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">truncated_weather</span><span class="op">$</span><span class="va">doy</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $doy_start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $doy_end</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Justin M. McGrath, Edward B. Lochocki, Yufeng He, Scott W. Oswald, Scott Rohde, Deepak Jaiswal, Megan L. Matthews, Fernando E. Miguez, Stephen P. Long.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

