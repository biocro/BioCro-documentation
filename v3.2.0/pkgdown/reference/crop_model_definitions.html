<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Crop model definitions — crop_model_definitions • BioCro</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Crop model definitions — crop_model_definitions"><meta name="description" content="In BioCro, a crop model is defined by sets of direct modules, differential
  modules, initial values, and parameters, along with an ordinary differential
  equation (ODE) solver. To run a model, these values, along with a set of
  weather data, are passed to the run_biocro function. For
  convenience, several crop model definitions are included in the BioCro R
  package. A full list can be obtained by typing ??crop_models into the R
  terminal."><meta property="og:description" content="In BioCro, a crop model is defined by sets of direct modules, differential
  modules, initial values, and parameters, along with an ordinary differential
  equation (ODE) solver. To run a model, these values, along with a set of
  weather data, are passed to the run_biocro function. For
  convenience, several crop model definitions are included in the BioCro R
  package. A full list can be obtained by typing ??crop_models into the R
  terminal."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BioCro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../about_pkgdown_documentation.html">About</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>GENERAL BIOCRO USAGE</h6></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/BioCro.html">Getting Started with BioCro (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/a_practical_guide_to_biocro.pdf">A Practical Guide to BioCro (PDF)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/a_practical_guide_to_biocro.R">    [R code]</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/quantitative_model_comparison.pdf">Quantitative Comparison Between Two Photosynthesis Models (PDF)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/quantitative_model_comparison.R">    [R code]</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/BioCro-II_Paper--Section-1.1-example.html">BioCro II Paper: Section 1.1 Example (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/dynamical_systems.pdf">BioCro as a Dynamical System</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/an_introduction_to_biocro.pdf">An Introduction to BioCro for Those Who Want to Add Models (PDF)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>CROP GROWTH MODELING TOPICS</h6></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/web_only/avoiding_pitfalls_fvcb.html">Avoiding Pitfalls When Using the FvCB Model (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/thick_layer_absorption.html">Light Absorption by a Thick Layer (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/ball_berry_model.html">Using the Ball-Berry Model (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/canopy_photosynthesis.html">Multi-layer Canopy Photosynthesis Models (HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/energy_balance.html">Energy Balance, Leaf Temperature, and Transpiration (HTML)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../../bookdown/index.html">Developer's Manual</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-c-library" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">C++ Library</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-c-library"><li><a class="dropdown-item" href="../../doxygen/doxygen_docs_complete/index.html">Complete Doxygen Documentation</a></li>
    <li><a class="dropdown-item" href="../../doxygen/doxygen_docs_framework/index.html">Framework Documentation</a></li>
    <li><a class="dropdown-item" href="../../doxygen/doxygen_docs_modules/index.html">BioCro Module Documentation</a></li>
    <li><a class="dropdown-item" href="../../doxygen/doxygen_docs_modules_public_members_only/index.html">BioCro Module Documentation (public members only)</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/biocro/biocro/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Crop model definitions</h1>

      <div class="d-none name"><code>crop_model_definitions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>In BioCro, a crop model is defined by sets of direct modules, differential
  modules, initial values, and parameters, along with an ordinary differential
  equation (ODE) solver. To run a model, these values, along with a set of
  weather data, are passed to the <code><a href="run_biocro.html">run_biocro</a></code> function. For
  convenience, several crop model definitions are included in the BioCro R
  package. A full list can be obtained by typing <code>??crop_models</code> into the R
  terminal.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Each crop model definition is stored as a list with the following named
  elements:</p><ul><li><p><code>direct_modules</code>: A list of direct module names; can be passed to
    <code><a href="run_biocro.html">run_biocro</a></code> as its <code>direct_module_names</code> argument.</p></li>
<li><p><code>differential_modules</code>: A list of differential module names; can
    be passed to <code><a href="run_biocro.html">run_biocro</a></code> as its
    <code>differential_module_names</code> argument.</p></li>
<li><p><code>ode_solver</code>: A list specifying details of a numerical ODE
    solver; can be passed to <code><a href="run_biocro.html">run_biocro</a></code> as its <code>ode_solver</code>
    argument.</p></li>
<li><p><code>initial_values</code>: A list of named quantity values; can be passed
    to <code><a href="run_biocro.html">run_biocro</a></code> as its <code>initial_values</code> argument.</p></li>
<li><p><code>parameters</code>: A list of named quantity values; can be passed to
    <code><a href="run_biocro.html">run_biocro</a></code> as its <code>parameters</code> argument, and also can be
    passed to <code><a href="modules.html">evaluate_module</a></code> and
    <code><a href="modules.html">module_response_curve</a></code> when investigating the behavior of one
    of the crop's modules.</p></li>
</ul><p>These model definitions are not sufficient for running a simulation because
  <code><a href="run_biocro.html">run_biocro</a></code> also requires drivers; for these crop growth models,
  the drivers should be sets of weather data. The <code><a href="soybean.html">soybean</a></code> model is
  intended to be used along with the specialized soybean weather data
  (see <code><a href="cmi_soybean_weather_data.html">cmi_soybean_weather_data</a></code>). The other crops should be used
  with the other weather data (see <code><a href="cmi_weather_data.html">cmi_weather_data</a></code>).</p>
<p>Some quantities in the crop model definitions, such as the values of
  photosynthetic parameters, would remain the same in any location; others, such
  as the latitude or longitude, would need to change when simulating crop growth
  in different locations. Care must be taken to understand each input quantity
  before attempting to run simulations in other places or for other cultivars.</p>
<p>Typically, the modules in a crop model definition are defined as lists with
  some named elements; the names facilitate on-the-fly module swapping via the
  <code><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></code> function. For example, to change the soybean canopy
  photosynthesis module to the <code>BioCro:ten_layer_rue_canopy</code> module, one
  could pass <code>within(soybean$direct_modules, {canopy_photosynthesis =
  "BioCro:ten_layer_rue_canopy"})</code> as the <code>direct_module_names</code> argument
  when calling <code><a href="run_biocro.html">run_biocro</a></code> instead of
  <code>soybean$direct_modules</code>.</p>
<p>Because each crop model definition is stored as a list with named elements,
  it is possible to use the <code><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></code> function to save some typing when
  calling <code><a href="run_biocro.html">run_biocro</a></code> or related functions such as
  <code><a href="partial_application.html">partial_run_biocro</a></code> or
  <code><a href="dynamical_system.html">validate_dynamical_system_inputs</a></code>. For an example, compare
  <code>Example 1</code> and <code>Example 2</code> below. Besides shortening the code,
  using <code>with</code> also makes it easy to modify a command to simulate the
  growth of a different crop; if the two models can use the same drivers, this
  switch can be accomplished with one small change (<code>Example 3</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p></p><ul><li><p><code><a href="run_biocro.html">run_biocro</a></code></p></li>
<li><p><code><a href="modules.html">modules</a></code></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: Simulating Miscanthus growth using its model definition list</span></span></span>
<span class="r-in"><span><span class="va">result1</span> <span class="op">&lt;-</span> <span class="fu"><a href="run_biocro.html">run_biocro</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">initial_values</span>,</span></span>
<span class="r-in"><span>  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">parameters</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_growing_season_climate.html">get_growing_season_climate</a></span><span class="op">(</span><span class="va">weather</span><span class="op">$</span><span class="st">'2002'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">direct_modules</span>,</span></span>
<span class="r-in"><span>  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">differential_modules</span>,</span></span>
<span class="r-in"><span>  <span class="va">miscanthus_x_giganteus</span><span class="op">$</span><span class="va">ode_solver</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Performing the same simulation as in Example 1, but making use of</span></span></span>
<span class="r-in"><span><span class="co"># the `with` command to reduce repeated references to the model definition list</span></span></span>
<span class="r-in"><span><span class="va">result2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">miscanthus_x_giganteus</span>, <span class="op">{</span><span class="fu"><a href="run_biocro.html">run_biocro</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">initial_values</span>,</span></span>
<span class="r-in"><span>  <span class="va">parameters</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_growing_season_climate.html">get_growing_season_climate</a></span><span class="op">(</span><span class="va">weather</span><span class="op">$</span><span class="st">'2002'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va">direct_modules</span>,</span></span>
<span class="r-in"><span>  <span class="va">differential_modules</span>,</span></span>
<span class="r-in"><span>  <span class="va">ode_solver</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: Simulating willow growth using the same weather data as Examples 1</span></span></span>
<span class="r-in"><span><span class="co"># and 2, which just requires one change relative to Example 2</span></span></span>
<span class="r-in"><span><span class="va">result3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">willow</span>, <span class="op">{</span><span class="fu"><a href="run_biocro.html">run_biocro</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">initial_values</span>,</span></span>
<span class="r-in"><span>  <span class="va">parameters</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_growing_season_climate.html">get_growing_season_climate</a></span><span class="op">(</span><span class="va">weather</span><span class="op">$</span><span class="st">'2002'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va">direct_modules</span>,</span></span>
<span class="r-in"><span>  <span class="va">differential_modules</span>,</span></span>
<span class="r-in"><span>  <span class="va">ode_solver</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Justin M. McGrath, Edward B. Lochocki, Yufeng He, Scott W. Oswald, Scott Rohde, Deepak Jaiswal, Megan L. Matthews, Fernando E. Miguez, Stephen P. Long.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

